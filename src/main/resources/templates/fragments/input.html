<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>

    <form>
        <th:block th:fragment="input (label, name, type)">
            <div class="form-group row">
                <label th:for="${'validationServcer' + name}" class="col-sm-2 col-form-label"
                       th:text="${label}">
                    Label
                </label>
                <div th:with="valid=${!#fields.hasErrors(name)}"
                     th:class="${'col-sm-10 ' + (valid ? '' : 'is-invalid')}" >
                    <th:block th:switch="${type}">
                        <textarea class="form-group" th:case="'textarea'" rows="5"
                                  style="min-width: 100%"
                                  th:field="*{__${name}__}"></textarea>

                        <input class="form-control" th:case="'text'" type="text" th:field="*{__${name}__}"/>
                        <input class="form-control" th:case="'date'" type="text" th:field="*{__${name}__}"
                               placeholder="YYYY-MM-DD" title="Enter a date in this format: YYYY-MM-DD"
                               pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))" />
                    </th:block>

                </div>
            </div>

        </th:block>
    </form>

</body>
</html>